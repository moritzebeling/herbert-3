var app=function(){"use strict";function t(){}function n(t,n){for(const e in n)t[e]=n[e];return t}function e(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(e)}function c(t){return"function"==typeof t}function i(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function s(t,n){t.appendChild(n)}function l(t,n,e){t.insertBefore(n,e||null)}function u(t){t.parentNode.removeChild(t)}function a(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function d(){return f(" ")}function h(){return f("")}function p(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function m(t,n,e){t.classList[e?"add":"remove"](n)}let g;function $(t){g=t}function w(){if(!g)throw new Error("Function called outside component initialization");return g}const y=[],b=[],x=[],_=[],v=Promise.resolve();let E=!1;function N(t){x.push(t)}let j=!1;const A=new Set;function k(){if(!j){j=!0;do{for(let t=0;t<y.length;t+=1){const n=y[t];$(n),B(n.$$)}for(y.length=0;b.length;)b.pop()();for(let t=0;t<x.length;t+=1){const n=x[t];A.has(n)||(A.add(n),n())}x.length=0}while(y.length);for(;_.length;)_.pop()();E=!1,j=!1,A.clear()}}function B(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(N)}}const C=new Set;let O;function z(){O={r:0,c:[],p:O}}function M(){O.r||r(O.c),O=O.p}function S(t,n){t&&t.i&&(C.delete(t),t.i(n))}function q(t,n,e,o){if(t&&t.o){if(C.has(t))return;C.add(t),O.c.push(()=>{C.delete(t),o&&(e&&t.d(1),o())}),t.o(n)}}function F(t){t&&t.c()}function H(t,n,o){const{fragment:i,on_mount:s,on_destroy:l,after_update:u}=t.$$;i&&i.m(n,o),N(()=>{const n=s.map(e).filter(c);l?l.push(...n):r(n),t.$$.on_mount=[]}),u.forEach(N)}function I(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function L(t,n){-1===t.$$.dirty[0]&&(y.push(t),E||(E=!0,v.then(k)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function P(n,e,c,i,s,l,a=[-1]){const f=g;$(n);const d=e.props||{},h=n.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:o(),dirty:a};let p=!1;if(h.ctx=c?c(n,d,(t,e,...o)=>{const r=o.length?o[0]:e;return h.ctx&&s(h.ctx[t],h.ctx[t]=r)&&(h.bound[t]&&h.bound[t](r),p&&L(n,t)),e}):[],h.update(),p=!0,r(h.before_update),h.fragment=!!i&&i(h.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);h.fragment&&h.fragment.l(t),t.forEach(u)}else h.fragment&&h.fragment.c();e.intro&&S(n.$$.fragment),H(n,e.target,e.anchor),k()}$(f)}class T{$destroy(){I(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}const W=[];function D(n,e=t){let o;const r=[];function c(t){if(i(n,t)&&(n=t,o)){const t=!W.length;for(let t=0;t<r.length;t+=1){const e=r[t];e[1](),W.push(e,n)}if(t){for(let t=0;t<W.length;t+=2)W[t][0](W[t+1]);W.length=0}}}return{set:c,update:function(t){c(t(n))},subscribe:function(i,s=t){const l=[i,s];return r.push(l),1===r.length&&(o=e(c)||t),i(n),()=>{const t=r.indexOf(l);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}function G(t=function(){let t=window.location.pathname;"/"===t&&(t="home");let n=t+".json";return""!==window.location.search&&(n+=window.location.search),n}()){return{subscribe:D({},n=>(n(async function(t,n){try{console.log("fetch "+t);const e=window.location.origin+"/"+t,o=await fetch(e);if(200===o.status){const t=await o.json();return n(t),t}{const t=o.text();throw new Error(t)}}catch(t){return data.error=t,n(data),data}}(t,n)),()=>{})).subscribe}}function J(n){let e,o,r,c;return{c(){e=a("div"),o=d(),r=a("img"),p(r,"alt",n[1]),p(r,"width",n[0]),p(r,"height",n[5]),p(r,"class","lazyload"),r.src!==(c=n[2])&&p(r,"src",c),p(r,"data-src",n[3]),p(r,"data-srcset",n[4])},m(t,c){l(t,e,c),n[8](e),l(t,o,c),l(t,r,c)},p(t,[n]){2&n&&p(r,"alt",t[1]),1&n&&p(r,"width",t[0]),32&n&&p(r,"height",t[5]),4&n&&r.src!==(c=t[2])&&p(r,"src",c),8&n&&p(r,"data-src",t[3]),16&n&&p(r,"data-srcset",t[4])},i:t,o:t,d(t){t&&u(e),n[8](null),t&&u(o),t&&u(r)}}}function K(t,n,e){let o,{alt:r="Herbert.gd"}=n,{placeholder:c=""}=n,{src:i=""}=n,{srcset:s=""}=n,{ratio:l=1}=n,{width:u="100%"}=n,a="10vw";var f;return f=()=>{e(0,u=o.offsetWidth),e(5,a=Math.floor(u*l))},w().$$.on_mount.push(f),t.$set=t=>{"alt"in t&&e(1,r=t.alt),"placeholder"in t&&e(2,c=t.placeholder),"src"in t&&e(3,i=t.src),"srcset"in t&&e(4,s=t.srcset),"ratio"in t&&e(7,l=t.ratio),"width"in t&&e(0,u=t.width)},[u,r,c,i,s,a,o,l,function(t){b[t?"unshift":"push"](()=>{o=t,e(6,o)})}]}class Q extends T{constructor(t){super(),P(this,t,K,J,i,{alt:1,placeholder:2,src:3,srcset:4,ratio:7,width:0})}}function R(t){let e,o,r;const c=[t[0].image];let i={};for(let t=0;t<c.length;t+=1)i=n(i,c[t]);return o=new Q({props:i}),{c(){e=a("figure"),F(o.$$.fragment),p(e,"class","video")},m(t,n){l(t,e,n),H(o,e,null),r=!0},p(t,n){const e=1&n?function(t,n){const e={},o={},r={$$scope:1};let c=t.length;for(;c--;){const i=t[c],s=n[c];if(s){for(const t in i)t in s||(o[t]=1);for(const t in s)r[t]||(e[t]=s[t],r[t]=1);t[c]=s}else for(const t in i)r[t]=1}for(const t in o)t in e||(e[t]=void 0);return e}(c,[(r=t[0].image,"object"==typeof r&&null!==r?r:{})]):{};var r;o.$set(e)},i(t){r||(S(o.$$.fragment,t),r=!0)},o(t){q(o.$$.fragment,t),r=!1},d(t){t&&u(e),I(o)}}}function U(t){let n,e,o,r,c,i,h,g,$=t[0].title+"",w="image"in t[0]&&R(t);return{c(){n=a("li"),e=a("a"),w&&w.c(),o=d(),r=a("h3"),c=f($),p(e,"href",i=t[0].href),p(n,"class",h="item "+t[2]),m(n,"hide",!t[1])},m(t,i){l(t,n,i),s(n,e),w&&w.m(e,null),s(e,o),s(e,r),s(r,c),g=!0},p(t,[r]){"image"in t[0]?w?(w.p(t,r),1&r&&S(w,1)):(w=R(t),w.c(),S(w,1),w.m(e,o)):w&&(z(),q(w,1,1,()=>{w=null}),M()),(!g||1&r)&&$!==($=t[0].title+"")&&function(t,n){n=""+n,t.data!==n&&(t.data=n)}(c,$),(!g||1&r&&i!==(i=t[0].href))&&p(e,"href",i),(!g||4&r&&h!==(h="item "+t[2]))&&p(n,"class",h),6&r&&m(n,"hide",!t[1])},i(t){g||(S(w),g=!0)},o(t){q(w),g=!1},d(t){t&&u(n),w&&w.d()}}}function V(t,n,e){let{item:o={}}=n,{show:r=!0}=n,c="";return"image"in o&&"ratio"in o.image&&(c=o.image.ratio<1?"landscape":"portrait"),t.$set=t=>{"item"in t&&e(0,o=t.item),"show"in t&&e(1,r=t.show)},[o,r,c]}class X extends T{constructor(t){super(),P(this,t,V,U,i,{item:0,show:1})}}function Y(t,n,e){const o=t.slice();return o[7]=n[e],o}function Z(n){let e;return{c(){e=a("h3"),e.textContent="No posts found",p(e,"class","error")},m(t,n){l(t,e,n)},p:t,i:t,o:t,d(t){t&&u(e)}}}function tt(t){let n,e,o,r=t[1],c=[];for(let n=0;n<r.length;n+=1)c[n]=nt(Y(t,r,n));const i=t=>q(c[t],1,1,()=>{c[t]=null});return{c(){n=a("ol");for(let t=0;t<c.length;t+=1)c[t].c();p(n,"class",e="container "+t[0])},m(t,e){l(t,n,e);for(let t=0;t<c.length;t+=1)c[t].m(n,null);o=!0},p(t,s){if(6&s){let e;for(r=t[1],e=0;e<r.length;e+=1){const o=Y(t,r,e);c[e]?(c[e].p(o,s),S(c[e],1)):(c[e]=nt(o),c[e].c(),S(c[e],1),c[e].m(n,null))}for(z(),e=r.length;e<c.length;e+=1)i(e);M()}(!o||1&s&&e!==(e="container "+t[0]))&&p(n,"class",e)},i(t){if(!o){for(let t=0;t<r.length;t+=1)S(c[t]);o=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)q(c[t]);o=!1},d(t){t&&u(n),function(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}(c,t)}}}function nt(t){let n,e,o;var r=t[2];function c(t){return{props:{item:t[7]}}}return r&&(n=new r(c(t))),{c(){n&&F(n.$$.fragment),e=h()},m(t,r){n&&H(n,t,r),l(t,e,r),o=!0},p(t,o){const i={};if(2&o&&(i.item=t[7]),r!==(r=t[2])){if(n){z();const t=n;q(t.$$.fragment,1,0,()=>{I(t,1)}),M()}r?(n=new r(c(t)),F(n.$$.fragment),S(n.$$.fragment,1),H(n,e.parentNode,e)):n=null}else r&&n.$set(i)},i(t){o||(n&&S(n.$$.fragment,t),o=!0)},o(t){n&&q(n.$$.fragment,t),o=!1},d(t){t&&u(e),n&&I(n,t)}}}function et(t){let n,e,o,r;const c=[tt,Z],i=[];function s(t,n){return t[1].length>0?0:1}return e=s(t),o=i[e]=c[e](t),{c(){n=a("section"),o.c(),p(n,"class","posts")},m(t,o){l(t,n,o),i[e].m(n,null),r=!0},p(t,[r]){let l=e;e=s(t),e===l?i[e].p(t,r):(z(),q(i[l],1,1,()=>{i[l]=null}),M(),o=i[e],o||(o=i[e]=c[e](t),o.c()),S(o,1),o.m(n,null))},i(t){r||(S(o),r=!0)},o(t){q(o),r=!1},d(t){t&&u(n),i[e].d()}}}function ot(t,n,e){let o={grid:X},{layout:r="grid"}=n,c=o[r],{posts:i=[]}=n;for(let t of i)if("categories"in t)for(let n of t.categories);return t.$set=t=>{"layout"in t&&e(0,r=t.layout),"posts"in t&&e(1,i=t.posts)},[r,i,c]}class rt extends T{constructor(t){super(),P(this,t,ot,et,i,{layout:0,posts:1})}}function ct(t){let n,e;return n=new rt({props:{posts:t[0].posts}}),{c(){F(n.$$.fragment)},m(t,o){H(n,t,o),e=!0},p(t,e){const o={};1&e&&(o.posts=t[0].posts),n.$set(o)},i(t){e||(S(n.$$.fragment,t),e=!0)},o(t){q(n.$$.fragment,t),e=!1},d(t){I(n,t)}}}function it(t){let n,e,o=t[0].posts&&ct(t);return{c(){o&&o.c(),n=h()},m(t,r){o&&o.m(t,r),l(t,n,r),e=!0},p(t,[e]){t[0].posts?o?(o.p(t,e),1&e&&S(o,1)):(o=ct(t),o.c(),S(o,1),o.m(n.parentNode,n)):o&&(z(),q(o,1,1,()=>{o=null}),M())},i(t){e||(S(o),e=!0)},o(t){q(o),e=!1},d(t){o&&o.d(t),t&&u(n)}}}function st(t,n,e){let o=G(),r={},c=o.subscribe(t=>{t.data&&(e(0,r=t.data),console.log(r))});var i;return i=()=>{c=null},w().$$.on_destroy.push(i),[r]}return new class extends T{constructor(t){super(),P(this,t,st,it,i,{})}}({target:document.getElementById("frontend")})}();
//# sourceMappingURL=bundle.js.map
